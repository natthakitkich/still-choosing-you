const pages = [
`การ์ดใบนี้
เขียนถึงคนคนเดียว

กดเพื่อเปิดการ์ดปีใหม่`,

`สวัสดีปีใหม่นะงับที่รัก`,

`ปีนี้เป็นปีที่ดีมาก ๆ สำหรับเราเลยนะ
และเราอยากบอกเธอจากใจว่า คนที่ทำให้เรารู้สึกแบบนั้นได้`,

`คือเธอนะ`,

`ถ้ามองย้อนกลับไปเธอคือคนแรก และเป็นคนเดียวที่ทำให้เรากลับมามีพลังใจ มีรอยยิ้ม`,

`และค่อย ๆ กลับมารู้สึกว่าชีวิตมันเบาขึ้นมาก ๆ ในปีนี้`,

`เราไม่เคยคิดเลยว่าตัวเองจะกลับมามีความสุขได้มากขนาดนี้`,

`มันเหมือนหัวใจที่เคยพังทลายและสูญเสียตัวตนมันค่อย ๆ ฟื้นตัว`,

`และกลับมาเป็นเราในเวอร์ชั่นที่เราภูมิใจ`,

`ซึ่งทั้งหมดนี้ เกิดขึ้นเพราะมีเธออยู่ตรงนี้…ข้าง ๆ เรา`,

`ไม่ว่าที่ผ่านมาเราจะทำตัวแย่แค่ไหน
แต่เธอก็ยังไม่ปล่อยมือเรา`,

`ปีนี้เราเดินมาด้วยกันหลายช่วงเวลามาก`,

`เดือนมีนาคมมันยังชัดอยู่ในความทรงจำของเรา`,

`วันที่เธอบินมาหาเราตามสัญญาที่เคยให้กันไว้
วันเกิดปีนี้ของเราทั้งคู่ เป็นวันที่เรามีความสุขมากจริง ๆ`,

`เราได้ใช้เวลา ได้หัวเราะ ได้อยู่ด้วยกันแบบไม่ต้องรีบ`,

`มันเป็นสิ่งที่เรียบง่าย แต่เต็มไปด้วยความสุข`,

`และมันทำให้เรารู้ว่า ความรักของเรา
มันมีตัวตนจริง ๆ`,

`หลังจากนั้นเราก็ตั้งใจทำตามสัญญาของเราเหมือนกัน`,

`ด้วยการบินไปหาเธอที่อินโดฯ`,

`มันเป็นการเดินทางไกลที่สุดในชีวิตเรา
และก็เป็นการเดินทางที่มีความสุขที่สุดเหมือนกัน`,

`ตลอดเดือนตุลาคมที่เราได้อยู่กับเธอทั้งที่จาการ์ตาและบาหลี`,

`มันเป็นช่วงเวลาที่มีความหมายมากสำหรับเรา`,

`แม้เธอจะงานยุ่ง แต่เธอก็ยังทำให้เรารู้สึกว่า
เราถูกเลือก ถูกใส่ใจ และถูกรัก`,

`เรามีความสุขมากจริง ๆ`,

`และเราภูมิใจในตัวเองมาก
ที่เราทำตามสัญญานั้นได้`,

`ขอบคุณเธอที่เป็นแรงผลักดัน
และเป็นเหตุผลที่ทำให้เรากล้าก้าวไปไกลขนาดนั้นได้`,

`แต่แน่นอนว่าปีนี้ไม่ได้มีแค่ช่วงเวลาที่ราบรื่นทั้งหมด`,

`คนเรามีวันที่พลาด วันที่อ่อนแอกันได้`,

`แต่แม้จะมีวันที่ยาก
เราก็ยังเลือกเธอนะ`,

`เราอยากทิ้งทุกเรื่องที่หนักใจไว้ในปีที่ผ่านมา`,

`แล้วจับมือกันก้าวไปข้างหน้าในปีใหม่`,

`ด้วยหัวใจที่เรียนรู้ เติบโต
และเข้าใจกันมากขึ้น`,

`เรารักเธอมาก
รักเธอที่สุด`,

`และการที่เรายังเลือกเธออยู่ตรงนี้
ไม่ใช่เพราะมันง่าย`,

`แต่เพราะเราเห็นอนาคต
ที่มีคำว่า “เรา” อยู่ในนั้น`,

`Still Choosing You…`,

`เรายังเลือกเธอ
วันนี้ พรุ่งนี้ และในทุกวัน`,

`สุดท้าย
ขอให้ปีใหม่นี้เป็นปีที่ดีสำหรับเราทั้งคู่`,

`สวัสดีปีใหม่นะงับ
เรารักเธอ`,

`นักการทูตคนเก่งของเรา`
];

let index = 0;
const card = document.getElementById("card");
const content = document.getElementById("content");
const prev = document.getElementById("prev");
const next = document.getElementById("next");

function render() {
  content.textContent = pages[index];
  prev.style.display = index === 0 ? "none" : "inline-block";
  next.textContent = index === pages.length - 1 ? "จบแล้ว" : "ถัดไป";
}

function transition(to) {
  card.classList.add("fade-out");
  setTimeout(() => {
    index = to;
    render();
    card.classList.remove("fade-out");
  }, 450);
}

prev.onclick = () => index > 0 && transition(index - 1);
next.onclick = () =>
  index < pages.length - 1 ? transition(index + 1) : transition(0);

render();

/* ===== Floating dust (Safari iOS safe) ===== */
const canvas = document.getElementById("dust");
const ctx = canvas.getContext("2d");
let w, h;

function resize() {
  w = canvas.width = window.innerWidth;
  h = canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

const dots = Array.from({ length: 28 }, () => ({
  x: Math.random() * w,
  y: Math.random() * h,
  r: Math.random() * 1.2 + 0.4,
  s: Math.random() * 0.3 + 0.1
}));

function animate() {
  ctx.clearRect(0, 0, w, h);
  dots.forEach(d => {
    d.y -= d.s;
    if (d.y < -10) d.y = h + 10;
    ctx.fillStyle = "rgba(255,255,255,0.18)";
    ctx.beginPath();
    ctx.arc(d.x, d.y, d.r, 0, Math.PI * 2);
    ctx.fill();
  });
  requestAnimationFrame(animate);
}
animate();
